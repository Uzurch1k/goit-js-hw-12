{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// ===============================================================\n\nimport axios from 'axios';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// ===============================================================\n\nconst optionsIziToastWarning = {\n  message: 'Please fill out the input field.',\n  backgroundColor: '#FFA000',\n  titleColor: '#fff',\n  titleSize: '16px',\n  titleLineHeight: '1.5',\n  messageColor: '#fff',\n  messageSize: '16px',\n  messageLineHeight: '1.5',\n  position: 'topRight',\n  timeout: 3000,\n  progressBar: false,\n};\n\nconst optionsIziToastError = {\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  backgroundColor: '#EF4040',\n  titleColor: '#fff',\n  titleSize: '16px',\n  titleLineHeight: '1.5',\n  messageColor: '#fff',\n  messageSize: '16px',\n  messageLineHeight: '1.5',\n  position: 'topRight',\n  timeout: 3000,\n  progressBar: false,\n  maxWidth: 400,\n};\n\n// ===============================================================\n\nconst form = document.querySelector('.gallery-form');\n\nconst loader = document.querySelector('.loader');\n\nconst gallery = document.querySelector('.gallery-list');\n\n// ===============================================================\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const text = form.elements.text.value.trim();\n\n  if (!text) {\n    form.reset();\n    iziToast.warning(optionsIziToastWarning);\n    return;\n  }\n  gallery.innerHTML = '';\n\n  showLoader();\n\n  searchGallery(text)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.warning(optionsIziToastError);\n        return;\n      }\n      renderGallery(data.hits);\n    })\n    .catch(err => console.error('Error loading data:', err))\n    .finally(hideLoader);\n\n  form.reset();\n}\n\nfunction searchGallery(request) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const PARAMS = `?key=42127236-8bfdbbfbeed8a2dadaca720e8\n\t&q=${request}\n\t&image_type=photo\n\t&orientation=horizontal\n\t&safesearch=true\n\t&per_page=21`;\n\n  const url = BASE_URL + END_POINT + PARAMS;\n\n  return fetch(url).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw new Error(res.status);\n    }\n  });\n}\n\n// ===============================================================\n\nfunction templateGallery(dataGallery) {\n  return dataGallery\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n      </a>\n      <ul class=\"specific-list\">\n        <li class=\"specific-item\">\n          <p class=\"specific-text\">Likes</p>\n          <p class=\"specific-quantity\">${likes}</p>\n        </li>\n        <li class=\"specific-item\">\n          <p class=\"specific-text\">Views</p>\n          <p class=\"specific-quantity\">${views}</p>\n        </li>\n        <li class=\"specific-item\">\n          <p class=\"specific-text\">Comments</p>\n          <p class=\"specific-quantity\">${comments}</p>\n        </li>\n        <li class=\"specific-item\">\n          <p class=\"specific-text\">Downloads</p>\n          <p class=\"specific-quantity\">${downloads}</p>\n        </li>\n      </ul>\n    </li>`;\n      }\n    )\n    .join('');\n}\n\nfunction renderGallery(dataGallery) {\n  const markup = templateGallery(dataGallery);\n  gallery.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.gallery-list a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n  });\n\n  lightbox.refresh();\n}\n\n// ===============================================================\n\nfunction showLoader() {\n  loader.classList.add('in-active');\n}\n\nfunction hideLoader() {\n  loader.classList.remove('in-active');\n}\n\n// ===============================================================\n"],"names":["optionsIziToastWarning","optionsIziToastError","form","loader","gallery","onFormSubmit","e","text","iziToast","showLoader","searchGallery","data","renderGallery","err","hideLoader","request","BASE_URL","END_POINT","PARAMS","url","res","templateGallery","dataGallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","markup","SimpleLightbox"],"mappings":"6vBAYA,MAAMA,EAAyB,CAC7B,QAAS,mCACT,gBAAiB,UACjB,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,aAAc,OACd,YAAa,OACb,kBAAmB,MACnB,SAAU,WACV,QAAS,IACT,YAAa,EACf,EAEMC,EAAuB,CAC3B,QACE,2EACF,gBAAiB,UACjB,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,aAAc,OACd,YAAa,OACb,kBAAmB,MACnB,SAAU,WACV,QAAS,IACT,YAAa,GACb,SAAU,GACZ,EAIMC,EAAO,SAAS,cAAc,eAAe,EAE7CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,SAAS,cAAc,eAAe,EAItDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAOL,EAAK,SAAS,KAAK,MAAM,OAEtC,GAAI,CAACK,EAAM,CACTL,EAAK,MAAK,EACVM,EAAS,QAAQR,CAAsB,EACvC,MACD,CACDI,EAAQ,UAAY,GAEpBK,IAEAC,EAAcH,CAAI,EACf,KAAKI,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BH,EAAS,QAAQP,CAAoB,EACrC,MACD,CACDW,EAAcD,EAAK,IAAI,CAC7B,CAAK,EACA,MAAME,GAAO,QAAQ,MAAM,sBAAuBA,CAAG,CAAC,EACtD,QAAQC,CAAU,EAErBZ,EAAK,MAAK,CACZ,CAEA,SAASQ,EAAcK,EAAS,CAC9B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS;AAAA,MACXH,CAAO;AAAA;AAAA;AAAA;AAAA,eAMLI,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAIA,EAAI,GACN,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAEhC,CAAG,CACH,CAIA,SAASC,EAAgBC,EAAa,CACpC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,sCACuBL,CAAa;AAAA,0CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yCAK3BC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,UAK7C,EACA,KAAK,EAAE,CACZ,CAEA,SAASjB,EAAcU,EAAa,CAClC,MAAMQ,EAAST,EAAgBC,CAAW,EAC1ClB,EAAQ,UAAY0B,EAEH,IAAIC,EAAe,kBAAmB,CACrD,aAAc,IACd,aAAc,KAClB,CAAG,EAEQ,QAAO,CAClB,CAIA,SAAStB,GAAa,CACpBN,EAAO,UAAU,IAAI,WAAW,CAClC,CAEA,SAASW,GAAa,CACpBX,EAAO,UAAU,OAAO,WAAW,CACrC"}